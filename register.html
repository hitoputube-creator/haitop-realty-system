<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>하이탑부동산 | 매물 등록</title>

  <!-- Pretendard -->
  <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">

  <!-- CSS -->
  <link rel="stylesheet" href="assets/css/app.css" />
  <link rel="stylesheet" href="assets/css/register.css" />
</head>

<body>
  <div class="page">

    <header class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="brand-text">
          <h1>매물 등록</h1>
          <p>유형별 입력폼 · 건물 자동 불러오기 · ㎡→평 자동 계산</p>
        </div>
      </div>

      <div class="actions">
        <button class="btn ghost" onclick="location.href='buildings.html'">건물관리</button>
        <button class="btn ghost" onclick="location.href='index.html'">매물목록</button>
      </div>
    </header>

    <main class="grid">

      <!-- LEFT: 기본정보 -->
      <section class="card">
        <div class="section-title">
          <h2>기본 정보</h2>
          <span class="sub">* 저장 후 목록에서 확인</span>
        </div>

        <div class="field">
          <label>매물 유형</label>
          <select id="typeSelect">
            <option value="shop">상가</option>
            <option value="officetel">오피스텔</option>
            <option value="apartment">아파트</option>
            <option value="bizcenter">지식산업센터</option>
            <option value="land_dev">토지(시행부지)</option>
            <option value="land_single">토지(단독주택)</option>
            <option value="land_general">토지(일반)</option>
            <option value="factory">공장/창고</option>
          </select>
        </div>

        <div class="field">
          <label>건물 선택(건물형만)</label>
          <select id="buildingSelect">
            <option value="">건물 선택</option>
          </select>
          <div id="buildingInfo" style="margin-top:8px;"></div>
          <div class="small" style="margin-top:6px;">
            * 토지/공장창고는 건물 선택이 필요 없습니다.
          </div>
        </div>

        <hr class="soft"/>

        <div class="field">
          <label>제목</label>
          <input id="title" placeholder="예: 월드스퀘어 2F 공실 / 힐스테이트 오피스텔 전세" />
        </div>

        <div class="field">
          <label>주소</label>
          <input id="address" placeholder="예: 파주시 와동동 ... (토지는 필수 권장)" />
        </div>

        <div class="row">
          <div class="field">
            <label>거래유형</label>
            <select id="dealType">
              <option>매매</option>
              <option>전세</option>
              <option>월세</option>
              <option>임대</option>
              <option>분양</option>
            </select>
          </div>
          <div class="field">
            <label>상태</label>
            <select id="status">
              <option>거래가능</option>
              <option>계약진행</option>
              <option>보류</option>
              <option>완료</option>
            </select>
          </div>
        </div>

        <div class="field">
          <label>매물나옴 체크</label>
          <div class="switch">
            <input type="checkbox" id="isListed" checked />
            <span>현재 내놓은 매물(✅ 표시된 것만 필터/출력 가능)</span>
          </div>
        </div>

        <div class="field">
          <label>내부 메모</label>
          <textarea id="memo" placeholder="예: 보증금 조정 가능, 빠른 입점 희망 등"></textarea>
        </div>

        <div class="form-actions">
          <button class="btn primary" id="btnSave">저장</button>
        </div>

        <p class="note">
          - 저장 구조는 localStorage(listings)에 저장됩니다.<br/>
          - 나중에 "리스트 출력/단건 견적서"는 이 데이터를 그대로 사용합니다.
        </p>
      </section>

      <!-- RIGHT: 유형별 상세 입력 -->
      <section class="card">
        <div class="section-title">
          <h2>유형별 상세 입력</h2>
          <span class="sub">유형 선택에 따라 자동으로 바뀜</span>
        </div>

        <div id="dynamicFields"></div>

        <p class="note">
          - 상가: 층(B2/B1/1F/…)은 고정값으로 선택합니다.<br/>
          - 토지/공장창고: 자료는 "URL 링크"로만 저장합니다.
        </p>
      </section>

    </main>
  </div>

  <div id="toast" class="toast" aria-live="polite"></div>

  <!-- JS -->
  <script src="assets/js/storage.js"></script>
  <script src="assets/js/data.js"></script>
  <script src="assets/js/register.js"></script>
</body>
</html>
